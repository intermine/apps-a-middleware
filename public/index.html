<!doctype html>
<head>
    <meta charset="utf-8" />

    <title>InterMine Report Widgets Demo</title>

    <link rel="stylesheet" href="css/foundation3.css">
    <link rel="stylesheet" href="css/tricolore.css">
    <link rel="stylesheet" href="css/style.css">

    <!-- syntax highlighting -->
    <script src="js/rainbow.js"></script>
    <script src="js/lang/coffeescript.js"></script>
    <script src="js/lang/css.js"></script>
    <script src="js/lang/generic.js"></script>
    <script src="js/lang/html.js"></script>
    <script src="js/lang/javascript.js"></script>

    <!-- API loader for dependency resolution -->
    <script src="http://cdn.intermine.org/js/intermine/api-loader/latest/intermine.api.js"></script>

    <!-- report widgets client -->
    <script src="js/intermine.report-widgets.js"></script>

    <script>
        var widgets = new intermine.reportWidgets(document.location.href);
    </script>
</head>
<body>
    <div class="row">
        <div class="ten columns">
            <h2>InterMine Report Widgets Demo</h2>
        </div>
        <div id="docs" class="two columns">
            <a target="_blank" href="http://intermine.readthedocs.org/en/latest/embedding/report-widgets/">Read the Docs</a>
        </div>
    </div>

    <div class="row">
        <div class="twelve columns">
        <h3>Dendrogram Clustering</h3>
        <pre><code data-language="javascript">
// Use InterMine API Loader to fetch Report Widgets client.
intermine.load('report-widgets', function(err) {
    // Instantiate the library pointing to a service.
    var widgets = new intermine.reportWidgets('http://intermine-report-widgets-service.labs.intermine.org');
    // Load a specific widget after satisfying its dependencies; passing target & extra config.
    widgets.load('mouse-phenotype-dendrogram', '#dendrogram', { 'width': 790, 'height': 600, 'symbol': 'MGI:97747' });
});
        </code></pre>
        <script>
            (function() {
                this.widgets.load('mouse-phenotype-dendrogram', '#dendrogram', { 'width': 790, 'height': 600, 'symbol': 'MGI:97747' });
            })();
        </script>
        <div id="dendrogram"></div>
        </div>
    </div>

    <div class="row">
        <div class="twelve columns">
        <h3>Histogram</h3>
        <pre><code data-language="javascript">
// Use InterMine API Loader to fetch Report Widgets client.
intermine.load('report-widgets', function(err) {
    // Instantiate the library pointing to a service.
    var widgets = new intermine.reportWidgets('http://intermine-report-widgets-service.labs.intermine.org');
    // Load a specific widget after satisfying its dependencies; passing target & extra config.
    widgets.load('spell-histogram', '#spell', { 'type': 'Gene', 'symbol': 'S000001863' });
});
        </code></pre>
        <script>
            (function() {
                this.widgets.load('spell-histogram', '#spell', { 'type': 'Gene', 'symbol': 'S000001863' });
            })();
        </script>
        <div id="spell"></div>
        </div>
    </div>

    <div class="row">
        <div class="twelve columns">
        <h3>Gene Mine Pathways</h3>
        <pre><code data-language="javascript">
// Use InterMine API Loader to fetch Report Widgets client.
intermine.load('report-widgets', function(err) {
    // Instantiate the library pointing to a service.
    var widgets = new intermine.reportWidgets('http://intermine-report-widgets-service.labs.intermine.org');
    // Load a specific widget after satisfying its dependencies; passing target & extra config.
    widgets.load('pathways-displayer', '#pathways', { 'symbol': 'G-ialpha65A' });
});
        </code></pre>
        <script>
            (function() {
                this.widgets.load('pathways-displayer', '#pathways', { 'symbol': 'G-ialpha65A' });
            })();
        </script>
        <div id="pathways"></div>
        </div>
    </div>

    <div class="row">
        <div class="twelve columns">
        <h3>Publications Displayer</h3>
        <pre><code data-language="javascript">
// Use InterMine API Loader to fetch Report Widgets client.
intermine.load('report-widgets', function(err) {
    // Instantiate the library pointing to a service.
    var widgets = new intermine.reportWidgets('http://intermine-report-widgets-service.labs.intermine.org');
    // Load a specific widget after satisfying its dependencies; passing target & extra config.
    widgets.load('publications-displayer', '#publications', { 'symbol': 'zen' });
});
        </code></pre>
        <script>
            (function() {
                this.widgets.load('publications-displayer', '#publications', { 'symbol': 'zen' });
            })();
        </script>
        <div id="publications"></div>
        </div>
    </div>

    <div class="row">
        <div class="twelve columns">
        <h3>Ontology Displayer</h3>
        <pre><code data-language="javascript">
// Use InterMine API Loader to fetch Report Widgets client.
intermine.load('report-widgets', function(err) {
    // Instantiate the library pointing to a service.
    var widgets = new intermine.reportWidgets('http://intermine-report-widgets-service.labs.intermine.org');
    // Load a specific widget after satisfying its dependencies; passing target &amp; extra config.
    widgets.load('ontology-graph', '#ontology', {
        'service': { root: 'http://www.flymine.org/query' },
        'interop': [
            {
                taxonId: 4932,
                root: 'yeastmine-test.yeastgenome.org/yeastmine-dev',
                name: 'SGD'
            }, {
                taxonId: 10090,
                root: 'http://beta.mousemine.org/mousemine',
                name: 'MGI'
            }, {
                taxonId: 6239,
                root: 'http://intermine.modencode.org/release-32',
                name: 'modMine'
            }
        ],
        'graphState': { query: 'Adh' }
    });
});
        </code></pre>
        <script>
        this.widgets.load('ontology-graph', '#ontology', {
            'service': { 'root': 'http://www.flymine.org/query' },
            'interop': [
                {
                    'taxonId': 4932,
                    'root': 'yeastmine-test.yeastgenome.org/yeastmine-dev',
                    'name': 'SGD'
                }, {
                    'taxonId': 10090,
                    'root': 'http://beta.mousemine.org/mousemine',
                    'name': 'MGI'
                }, {
                    'taxonId': 6239,
                    'root': 'http://intermine.modencode.org/release-32',
                    'name': 'modMine'
                }
            ],
            'graphState': { 'query': 'Adh' }
        });
        </script>
        <div id="ontology" style="width: 100%; height: 800px"></div>
        </div>
    </div>
</body>
</html>
